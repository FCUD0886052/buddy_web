<!doctype html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.6.0/dist/web3.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>
<style>
    .bg_buddy{
        background-color: #95E1D3;
    }
    .coin_300 {
        top: 0px;
        left: 48px;
        width: 89px;
        height: 45px;
        overflow: hidden;
        font-family: SirinStencil;
        font-size: 20px;
        text-align: right;
        color:#FFFFFF;
    }
    .rectangle_4 {
        top: 670px;
        left: 0px;
        width: 414px;
        height: 66px;
    }
    .rectangle_2 {
        top: 0px;
        left: 0px;
        width: 80px;
        height: 31px;
        -ms-border-radius: 10px;
        -o-border-radius: 10px;
        -moz-border-radius: 10px;
        -webkit-border-radius: 10px;
        border-radius: 10px;
        background:rgba(128,155,206,1);
    }

    .body {
        background-color: #F8EDEB;
    }
    .buddy_ {
        top: 13px;
        left: 8px;
        width: 134px;
        height: 59px;
        overflow: hidden;
        font-family: Single Day;
        font-size: 30px;
        text-align: left;
        -webkit-text-stroke-width: 1px;
        -webkit-text-stroke-color: #ffffff;
        -ms-text-shadow:1px 2px 4px rgba(0,0,0,0.25);
        -o-text-shadow:1px 2px 4px rgba(0,0,0,0.25);
        -webkit-text-shadow:1px 2px 4px rgba(0,0,0,0.25);
        -moz-text-shadow:1px 2px 4px rgba(0,0,0,0.25);
        text-shadow:1px 2px 4px rgba(0,0,0,0.25);
        color:#606C70;
    }
    .card-title{
        top: 13px;
        left: 8px;
        width: 134px;
        height: 59px;
        font-size: 20px;
    }
    .avatar {
            vertical-align: middle;
            margin-top: 40px;
            margin-left: 20px;
            width: 90px;
            height: 90px;
            border-radius: 90%;
          }
    /* .avatar{
        width: 60px;
        height: 60px;
        margin-right: 15px;
    } */
</style>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Buddy web</title>
    <nav class="navbar navbar-expand-lg bg_buddy">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <b class="buddy_">
                Buddy!
            </b>
          </a>
          <h4>
            <button class="rectangle_2" type="submit">
                    <img src="../B_adobespark.png" width="18" height="18" fill="yellow" class="bi bi-coin" viewBox="0 0 16 16"/>
                    <i class="bi bi-coin"></i>
                <b class="coin_300" font-family="SirinStencil";>
                    300
                </b>
            </button>
          </h4>
        </div>
      </nav>
      <form class="d-flex" role="search">
        <div class="input-group flex-nowrap">
            <input type="text" class="form-control" placeholder="search" aria-label="search" aria-describedby="addon-wrapping">
            <span class="input-group-text" id="addon-wrapping">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
                <i class="bi bi-search"></i></button>
            </span>
        </div>
      </form>
      <!-- <form class="d-flex" role="search">
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="search" aria-label="Rsearch" aria-describedby="button-addon2">
            <button class="btn btn-outline-secondary" style="color: #080101db;"type="submit" id="button-addon2">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
                <i class="bi bi-search"></i></button>
            </button>
            </div>
        </div> -->
      </form>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  </head>
  <body style="background-color: #F8EDEB;">
  <!-- <div class="container">
    <div class="row">

        <div class="col-12 col-md-3">
            <div class="card" style="width: 20rem;">
                <img src="..." class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Card title</h5>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                  <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
              </div>
        </div>
       
    </div>
  </div> -->
  <div id="list-example" class="list-group">
    <div class="card-group ">

        <div class="container">
                <div class="card mb-3" style="max-width: 540px; background-color: #F8EDEB;">
                    <div class="row g-0">
                        <div class="col-sm-3">
                                <img class="avatar" src="https://picsum.photos/100/100?random= + 10/"/>
                        </div>
                        <div class="col-sm-6">
                            <div class="card-body">
                                <h6 class="badge rounded-pill text-bg-primary" style="font-size:15px;">#數學</h6>
                                <h6 class="badge rounded-pill" style="font-size:16px; background-color:#4acc7b;">
                                    <img src="../B_adobespark.png" width="18" height="18" fill="yellow" class="bi bi-coin" viewBox="0 0 16 16"/> 
                                    50
                                </h6>                                                   
                            <h5 class="card-title" id="a">AA國中數學解題</h5> <!--try--> 
                            <p class="card-text"></p>
                            <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-3" style="max-width: 540px; background-color: #F8EDEB;">
                    <div class="row g-0">
                        <div class="col-sm-3">
                            <img class="avatar" src="https://picsum.photos/100/100?random= + 20/"/>    
                        </div>
                        <div class="col-sm-6">
                            <div class="card-body">
                                <h6 class="badge rounded-pill text-bg-primary" style="font-size:15px;">#數學</h6>
                                <h6 class="badge rounded-pill" style="font-size:16px; background-color:#4acc7b;">
                                    <img src="../B_adobespark.png" width="19" height="19" fill="yellow" class="bi bi-coin" viewBox="0 0 16 16"/> 
                                    80
                                </h6>  
                            <h5 class="card-title">大一微積分</h5>
                            <p class="card-text"></p>
                            <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-3" style="max-width: 540px; background-color: #F8EDEB;">
                    <div class="row g-0">
                        <div class="col-sm-3">
                            <img class="avatar" src="https://picsum.photos/100/100?random= + 30/"/>
                        </div>
                        <div class="col-sm-6">
                            <div class="card-body">
                                <h6 class="badge rounded-pill text-bg-primary" style="font-size:15px;">#數學</h6>
                                <h6 class="badge rounded-pill" style="font-size:16px; background-color:#4acc7b;">
                                    <img src="../B_adobespark.png" width="18" height="18" fill="yellow" class="bi bi-coin" viewBox="0 0 16 16"/> 
                                    50
                                </h6>  
                            <h5 class="card-title">國中數學解題</h5>
                            <p class="card-text"></p>
                            <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-3" style="max-width: 540px; background-color: #F8EDEB;">
                    <div class="row g-0">
                        <div class="col-sm-3">
                            <img class="avatar" src="https://picsum.photos/100/100?random= + 40/"/>
                        </div>
                        <div class="col-sm-6">
                            <div class="card-body">
                                <h6 class="badge rounded-pill text-bg-primary" style="font-size:15px;">#數學</h6>
                                <h6 class="badge rounded-pill" style="font-size:16px; background-color:#4acc7b;">
                                    <img src="../B_adobespark.png" width="18" height="18" fill="yellow" class="bi bi-coin" viewBox="0 0 16 16"/> 
                                    50
                                </h6>  
                            <h5 class="card-title">國中數學解題</h5>
                            <p class="card-text"></p>
                            <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-3" style="max-width: 540px; background-color: #F8EDEB;">
                    <div class="row g-0">
                        <div class="col-sm-3">
                            <img class="avatar" src="https://picsum.photos/100/100?random= + 50/"/>
                        </div>
                        <div class="col-sm-6">
                            <div class="card-body">
                                <h6 class="badge rounded-pill text-bg-primary" style="font-size:15px;">#數學</h6>
                                <h6 class="badge rounded-pill" style="font-size:16px; background-color:#4acc7b;">
                                    <img src="../B_adobespark.png" width="18" height="18" fill="yellow" class="bi bi-coin" viewBox="0 0 16 16"/> 
                                    50
                                </h6>  
                            <h5 class="card-title">國中數學解題</h5>
                            <p class="card-text"></p>
                            <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                            </div>
                        </div>
                    </div>
                </div>
        </div>

        </div>
    </div>
    
    <nav class="nav nav-tabs fixed-bottom" style="background-color: #95E1D3;">
        <div class="col-3">
            <li>
                <a class="nav-link" style="color: #606C70; text-align:center; font-size: 16px;" aria-current="page" href="../search/homepage.html">
                    <i class="bi bi-file-text">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="25" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                    </svg>
                    </i>
                    <br>                    
                    探索          
                </a>
            </li>
        </div>
        <div class="col-3">
            <li>
                <a class="nav-link" style="color: #606C70; text-align:center; font-size: 16px;" href="../case_management/collection.html">
                    <i class="bi bi-file-text">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="25" fill="currentColor" class="bi bi-file-text" viewBox="0 0 16 16">
                        <path d="M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"/>
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
                    </svg>
                    </i>
                    <br>
                    檔案管理
                </a>
            </li>
        </div>
        <div class="col-3">
            <li>
                <a class="nav-link" style="color: #606C70; text-align:center; font-size: 16px;" href="../mycase/posted.html">
                    <i class="bi bi-person">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="25" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                    </svg>
                    </i>
                    <br>
                    我的案件
                </a>
            </li>
        </div>
        <div class="col-3">
            <li>
                <a class="nav-link" style="color: #606C70; text-align:center; font-size: 16px;" href="../setting/profile.html">
                    <i class="bi bi-gear">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="25" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
                        <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                        <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
                    </svg>
                    </i>
                    <br>
                    設定
                </a>
            </li>
        </div>

    </nav>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    
    <!-- <p id="z" style="display:none;"></p>  -->
  <!-- <button onClick="start()">submit </button> -->

  <script> 
    //document.getElementById("co0").src = "./like.png";
    // var a = 0;
    // document.getElementById("co" + a).src = "./like.png";
    //  ;display:none;
    const s = new Array("a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z");
    const collect = async(a) => {
        const web3 = new Web3(new Web3.providers.HttpProvider('http://127.0.0.1:8545'));
        const accounts = await web3.eth.getAccounts();
        const PostContract = new web3.eth.Contract([{"inputs":[{"internalType":"string","name":"_title","type":"string"},{"internalType":"string","name":"_text","type":"string"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"string","name":"_hash","type":"string"}],"name":"_createPost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_lineID","type":"string"},{"internalType":"string","name":"_mobile","type":"string"}],"name":"_createUser","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getl","outputs":[{"internalType":"bool","name":"_lo","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getpostaddr","outputs":[{"internalType":"address","name":"a","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getpostcount","outputs":[{"internalType":"uint256","name":"j","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getpostdate","outputs":[{"internalType":"uint256","name":"dat","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getposthashtag","outputs":[{"internalType":"string","name":"hash","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getpostlove","outputs":[{"internalType":"bool","name":"_love","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getpostprice","outputs":[{"internalType":"uint256","name":"pri","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getposttext","outputs":[{"internalType":"string","name":"te","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getposttitle","outputs":[{"internalType":"string","name":"ti","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getuserlineID","outputs":[{"internalType":"string","name":"l","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusermobile","outputs":[{"internalType":"string","name":"m","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusername","outputs":[{"internalType":"string","name":"n","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userdata","outputs":[{"internalType":"address","name":"useradd","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"lineID","type":"string"},{"internalType":"string","name":"mobile","type":"string"}],"stateMutability":"view","type":"function"}],'0xa6f83e01e8D3766C3b59EbE54eAa9c380b4f9468s');
        // console.log(123);
        var o = await PostContract.methods.getpostcount().call();
        PostContract.methods.getpostlove(o - a).send({from:accounts[0],gas:6721975,gasPrice:'0'});//.then(k => document.getElementById("w").innetText = k);
        await PostContract.methods.getl(o - a).call({from:accounts[0]}).then(k => document.getElementById("z").innerHTML = k);
        // console.log(document.getElementById("z").value);
        var x = document.getElementById("z").innerHTML;
        
        console.log(x);
        if(x === 'true'){
          document.getElementById("co" + a).src = "./like.png";
        }
        else{
          document.getElementById("co" + a).src = "./heart.png";
        }
      }
    const start = async () => {
      // var title = document.getElementById("title").value;
      // var text = document.getElementById("text").value;
      // var hash = document.getElementById("hashtag").value;
      // var pri = document.getElementById("money").value;
      // console.log(title);
      var g = await 0;
      try {
        //const a = 'a';
        // console.log(typeof new Date());
        const web3 = new Web3(new Web3.providers.HttpProvider('http://127.0.0.1:8545'));
        const accounts = await web3.eth.getAccounts();
        // console.log(accounts[0]);
        web3.eth.defaultAccount = accounts[0];
        // const UserContract = new web3.eth.Contract([{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_lineID","type":"string"},{"internalType":"string","name":"_mobile","type":"string"}],"name":"_createUser","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getuserlineID","outputs":[{"internalType":"string","name":"l","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusermobile","outputs":[{"internalType":"string","name":"m","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusername","outputs":[{"internalType":"string","name":"n","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userdata","outputs":[{"internalType":"address","name":"useradd","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"lineID","type":"string"},{"internalType":"string","name":"mobile","type":"string"}],"stateMutability":"view","type":"function"}],"0x3f2B2a25Bb2f358dD20B803c971f7AB713eD7a27");
        const PostContract = new web3.eth.Contract([{"inputs":[{"internalType":"string","name":"_title","type":"string"},{"internalType":"string","name":"_text","type":"string"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"string","name":"_hash","type":"string"}],"name":"_createPost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_lineID","type":"string"},{"internalType":"string","name":"_mobile","type":"string"}],"name":"_createUser","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getl","outputs":[{"internalType":"bool","name":"_lo","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getpostaddr","outputs":[{"internalType":"address","name":"a","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getpostcount","outputs":[{"internalType":"uint256","name":"j","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getpostdate","outputs":[{"internalType":"uint256","name":"dat","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getposthashtag","outputs":[{"internalType":"string","name":"hash","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getpostlove","outputs":[{"internalType":"bool","name":"_love","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getpostprice","outputs":[{"internalType":"uint256","name":"pri","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getposttext","outputs":[{"internalType":"string","name":"te","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pc","type":"uint256"}],"name":"getposttitle","outputs":[{"internalType":"string","name":"ti","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getuserlineID","outputs":[{"internalType":"string","name":"l","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusermobile","outputs":[{"internalType":"string","name":"m","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusername","outputs":[{"internalType":"string","name":"n","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userdata","outputs":[{"internalType":"address","name":"useradd","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"lineID","type":"string"},{"internalType":"string","name":"mobile","type":"string"}],"stateMutability":"view","type":"function"}],'0xa6f83e01e8D3766C3b59EbE54eAa9c380b4f9468');
        // const FormContract = new web3.eth.Contract([{"inputs":[{"internalType":"uint256","name":"_number","type":"uint256"},{"internalType":"string","name":"_change","type":"string"}],"name":"_createForm","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_lineID","type":"string"},{"internalType":"string","name":"_mobile","type":"string"}],"name":"_createUser","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fc","type":"uint256"}],"name":"getformchange","outputs":[{"internalType":"string","name":"ch","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getformcount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fc","type":"uint256"}],"name":"getformlineID","outputs":[{"internalType":"string","name":"line","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fc","type":"uint256"}],"name":"getformnum","outputs":[{"internalType":"uint256","name":"num","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getuserlineID","outputs":[{"internalType":"string","name":"l","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusermobile","outputs":[{"internalType":"string","name":"m","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusername","outputs":[{"internalType":"string","name":"n","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userdata","outputs":[{"internalType":"address","name":"useradd","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"lineID","type":"string"},{"internalType":"string","name":"mobile","type":"string"}],"stateMutability":"view","type":"function"}],"0xe9877465f18C5f62e3DAC664043ef4d7e7efFfa2");
        // const TokenContract = new web3.eth.Contract([{"inputs":[{"internalType":"uint256","name":"_supply","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}],"0xeF04cb2288Fac8208Ae04A0D244c549f9862E149");
        // const MigContract = new web3.eth.Contract([{"inputs":[],"name":"last_completed_migration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"completed","type":"uint256"}],"name":"setCompleted","outputs":[],"stateMutability":"nonpayable","type":"function"}],"0xA13da44A268f5748CfBcc4890d291F3fe3f236f5");
        
        // web3.eth.getBalance(web3.eth.defaultAccount).then(console.log);//餘額
        // var name = document.getElementById("username").value;//可以!!!!

        // UserContract.methods._createUser(p,p,p).send({from:web3.eth.defaultAccount,gas:6721975,gasPrice:'0'}).then(console.log);
        // UserContract.methods.getusermobile(web3.eth.defaultAccount).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('aaa').innerText = k);
       
        // PostContract.methods._createPost("國中數學解題","某公司將舉辦摸彩活動，打算以30000元的預算購買首獎與貳獎的禮物各若干分。首獎微波爐每臺4000元，貳獎烤麵包機每臺700元。在不超過預算的情形下，首獎至少3分，貳獎至少15分，那麼購買禮物的方法有幾種?","50","#數學").send({from:web3.eth.defaultAccount,gas:6721975,gasPrice:'0'}).then(console.log);
        // PostContract.methods._createPost(title,text,pri,hash).send({from:web3.eth.defaultAccount,gas:6721975,gasPrice:'0'});//.then(console.log);
        
        var o = await PostContract.methods.getpostcount().call();//.then(k => document.getElementById('jjj').innerText );
        // console.log(o);
        // document.getElementById("z").innerText = o;
        for(i=0;i<7;i++){
          await PostContract.methods.getposttitle(o).call({from:web3.eth.defaultAccount}).then(k => document.getElementById(s[g]).innerHTML = k);
          g+=1;
          
          // console.log(s[g]);
          await PostContract.methods.getposthashtag(o).call({from:web3.eth.defaultAccount}).then(k => document.getElementById(s[g]).innerHTML = k);
          g+=1;

          
          await PostContract.methods.getpostprice(o).call({from:web3.eth.defaultAccount}).then(k => document.getElementById(s[g]).innerText = k);
          // await PostContract.methods.getposttext(o).call({from:web3.eth.defaultAccount}).then(k => document.getElementById(s[g]).innerHTML = k);
          g+=1;
          // console.log(g);
          o -= 1;
        }
        
        // console.log(s[g]);
        // await PostContract.methods.getposttitle(0).call({from:web3.eth.defaultAccount}).then(k => console.log("in" + g),document.getElementById(s[g]).innerHTML = await k);
        
        // console.log(g)
        //   // console.log(g);
        // g= g+1;
        //   // console.log(s[g]);
          // PostContract.methods.getposttext(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById("b").innerText = k);
          
          // g+=1;
          // console.log(g)
        //   PostContract.methods.getposthashtag(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('c').innerText = k);
        //   g+=1;
        //   PostContract.methods.getposttitle(1).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('d').innerText = k);
        //   g+=1;
        //   // console.log(s[g]);
        //   PostContract.methods.getposttext(1).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('e').innerText = k);
        //   g+=1;
        //   PostContract.methods.getposthashtag(1).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('f').innerText = k);
        //   g+=1;
        // console.log(document.getElementById(s[g]))
        // PostContract.methods.getposttitle(o).call({from:web3.eth.defaultAccount}).then(k => document.getElementById(g).innerText = k);

        // PostContract.methods.getposttitle(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('a').innerText = k);
        // PostContract.methods.getposttext(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('b').innerText = k);
        // PostContract.methods.getposthashtag(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('e').innerText = k);
        // PostContract.methods.getpostprice(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('ccc').innerText = k);
        // PostContract.methods.getpostdate(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('ddd').innerText = k);
        
        // FormContract.methods._createForm(1500,"換成linepoint").send({from:web3.eth.defaultAccount,gas:6721975,gasPrice:'0'}).then(console.log);
        // PostContract.methods.getformcount().call().then(k => document.getElementById('jjj').innerText = k);
        // FormContract.methods.getformlineID(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('fff').innerText = k);
        // FormContract.methods.getformnum(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('ggg').innerText = k);
        // FormContract.methods.getformchange(0).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('hhh').innerText = k);
        
        // TokenContract.methods.transfer(accounts[1],100).send({from:web3.eth.defaultAccount,gas:6721975,gasPrice:'0'}).then(console.log);
        // TokenContract.methods.balanceOf(web3.eth.defaultAccount).call({from:web3.eth.defaultAccount}).then(k => document.getElementById('iii').innerText = k);


       
        // console.log(document.getElementById("lineid").value);//可以!!!!
        // console.log(document.getElementById("phone").value);//可以!!!!
      } catch(err) {
        console.error("Error:", err);
      }

    }
    
    // web3.eth.getAccounts().then(e => console.log(e));
    // const UserContract = new web3.eth.Contract([{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_lineID","type":"string"},{"internalType":"string","name":"_mobile","type":"string"}],"name":"_createUser","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getuserlineID","outputs":[{"internalType":"string","name":"l","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusermobile","outputs":[{"internalType":"string","name":"m","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_u","type":"address"}],"name":"getusername","outputs":[{"internalType":"string","name":"n","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userdata","outputs":[{"internalType":"address","name":"useradd","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"lineID","type":"string"},{"internalType":"string","name":"mobile","type":"string"}],"stateMutability":"view","type":"function"}],'0x5C1BE5085A4e90a1e32fe7F2F1654E21A267D22B');
    // console.log(UserContract);
    // web3.eth.defaultAccount = accounts[0];
    // console.log(web3.eth.defaultAccount);
    //     
    //     contractInstance.getusername("web3.eth.defaultAccount").call(function(error, result) {
      //     if (error) {
        //       console.log(abed);
        //         // error handle
        //     } else {
          //         // result is string
          //         // do something
          //     }
          // });
          // UserContract.methods._createUser('a', 'aa', '0123').send({from:web3.eth.defaultAccount}).then(console.log);
          // const U =  UserContract.methods.getusername("0xB80F1ED6c20904feADf4dbf13b442a529fa42536").call();
          // console.log(U.toString());
          start();
          </script>
</body>
</html>